{{/* boolean feature tags will be prompted once */}}
{{- $personal_computer := promptBoolOnce . "personal_computer" "Is this a computer used for personal usage ? (true/false)" -}}
{{- $work_computer := promptBoolOnce . "work_computer" "Is this a computer used for professional usage ? (true/false)" -}}
{{- $dev_computer := promptBoolOnce . "dev_computer" "Will you develop on this computer? (true/false)" -}}
{{- $docker := promptBoolOnce . "docker" "Is this machine should have Docker installed? (true/false)" -}}

{{- "" -}}

{{- $osID := .chezmoi.os -}}
{{- if (and (eq .chezmoi.os "linux") (hasKey .chezmoi.osRelease "id")) -}}
{{-   $osID = printf "%s-%s" .chezmoi.os .chezmoi.osRelease.id -}}
{{- end -}}

{{- $email := (rbw "c358ce27-ec3a-4db4-bc04-b09e012d5d52").data.username -}}

[data]
    docker = {{ $docker }}
    email = {{ $email | quote }}
    personal_computer = {{ $personal_computer }}
    work_computer = {{ $work_computer }}
    dev_computer = {{ $dev_computer }}
    osid = {{ $osID | quote }}

[diff]
    {{ if lookPath "delta" -}}command = "delta"
    {{ end -}}
    exclude = ["scripts"]

{{ if lookPath "code" -}}

[edit]
    command = "code"
    args = ["--wait"]

[git]
    autoPush = true
