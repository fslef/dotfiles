# ChezMoi-managed .zshenv
# Keep this file minimal: it runs for every zsh invocation.

# In case an environment sets ZDOTDIR, prefer $HOME so ~/.zshrc is discoverable.
# (If ZDOTDIR is already set, do not override it here.)
if [[ -z "${ZDOTDIR:-}" ]]; then
  export ZDOTDIR="$HOME"
fi

# Ensure core aliases are available in interactive shells even if .zshrc is not read
# (e.g., non-standard ZDOTDIR/RCS settings).
if [[ -o interactive ]]; then
  {{- /* Common aliases */ -}}
  {{- range $key, $value := .aliases.common }}
  {{- $escaped := replace $value "'" "'\\''" -}}
  alias {{ $key }}='{{ $escaped }}'
  {{- end }}

  {{- /* Environment-specific aliases */ -}}
  {{- if .personal_computer }}
  {{- range $key, $value := .aliases.personal_computer }}
  {{- $escaped := replace $value "'" "'\\''" -}}
  alias {{ $key }}='{{ $escaped }}'
  {{- end }}
  {{- end }}

  {{- if .work_computer }}
  {{- range $key, $value := .aliases.work_computer }}
  {{- $escaped := replace $value "'" "'\\''" -}}
  alias {{ $key }}='{{ $escaped }}'
  {{- end }}
  {{- end }}

  {{- if .dev_computer }}
  {{- range $key, $value := .aliases.dev_computer }}
  {{- $escaped := replace $value "'" "'\\''" -}}
  alias {{ $key }}='{{ $escaped }}'
  {{- end }}
  {{- end }}

  {{- if .docker_computer }}
  {{- range $key, $value := .aliases.docker_computer }}
  {{- $escaped := replace $value "'" "'\\''" -}}
  alias {{ $key }}='{{ $escaped }}'
  {{- end }}
  {{- end }}
fi
